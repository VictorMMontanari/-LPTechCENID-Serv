
var _merge = require('lodash.merge')

module.exports = function merge(a, b) {
  for (var key in b) {
    var val = b[key]
    if (val === undefined) {
      delete a[key]
    } else if (val && typeof val == 'object') {
      if (Array.isArray(val)) {
        a[key] = a[key] || []
        _merge(a[key], val)
      } else {
        // if (key == 'input') debugger
        a[key] = a[key] || {}
        merge(a[key], val)
      }
    } else {
      a[key] = val
    }
  }
}
