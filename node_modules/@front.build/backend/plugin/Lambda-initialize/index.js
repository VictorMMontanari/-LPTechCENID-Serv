
var AWS = require('aws-sdk')

module.exports = function(state, action) {
  state.dispatch({
    type: 'Access config',
    input: {
      Properties: [
        {
          'Property name': 'AWS/secret'
        },
        {
          'Property name': 'AWS/key'
        }
      ]
    }
  }, function(err, values){
    var secret = values[0]
    var key = values[1]

    var lambda = new AWS.Lambda({
      signatureVersion: 'v4',
      secretAccessKey: secret,
      accessKeyId: key
    })

    callback(null, lambda)
  })
}
